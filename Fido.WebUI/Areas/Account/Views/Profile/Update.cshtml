@*
    For reference, I used the below link to display the image out of the model. This may not be wise once you consider the lack of
    caching for the image, but this is the "my account/profile" page.
    http://stackoverflow.com/questions/17952514/mvc-how-to-display-a-byte-array-image-from-model

    Will use the below method in all other locations to ensure caching and best-practice.
    <img src="@Url.Action("Get", "ProfileImage", new { Id = Model.Id })" alt=@Model.FirstnameSurname class="center-block img-rounded img-responsive" />
*@

@model Fido.Action.Models.ProfileVM

@{
    ViewBag.Title = "Account Profile";
}

@using (Html.BeginForm("Update", "Profile", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @enctype = "multipart/form-data", @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()

    @Html.Hidden("Id", Model.Id)
    @Html.Hidden("CreatedUtc", Model.CreatedUtc)
    @Html.Hidden("IsNew", Model.IsNew)
    @Html.Hidden("RowVersion", Model.RowVersion)

    <div class="well">
        <div class="row">
            <div class="col-md-4">
                <figure>
                    

                    @*width="80" height="80"*@
                    <img src="data:image;base64,@System.Convert.ToBase64String(Model.Image)" alt=@Model.FirstnameSurname class="center-block img-rounded img-responsive" />

                    <figcaption class="skd-rating">
                        <p class="text-center">
                            Rating
                            <a href="#">
                                <span class="fa fa-star"></span>
                            </a>
                            <a href="#">
                                <span class="fa fa-star"></span>
                            </a>
                            <a href="#">
                                <span class="fa fa-star"></span>
                            </a>
                            <a href="#">
                                <span class="fa fa-star"></span>
                            </a>
                            <a href="#">
                                <span class="fa fa-star-o"></span>
                            </a>
                        </p>
                    </figcaption>
                </figure>
                <input type="file" name="Image" id="Image" class="center-block" />
            </div>

            <div class="col-md-8">
                <p class="skd-h3-heading">@Model.FirstnameSurname</p>

                <span class="skd-spacing"></span>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-user"></i></span>
                    @Html.TextBoxFor(m => m.Firstname, new { @class = "form-control", @placeholder = "first name", @value = "" })
                </div>
                @Html.ValidationMessageFor(m => m.Firstname, "", new { @class = "text-danger" })

                <span class="skd-spacing"></span>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-user"></i></span>
                    @Html.TextBoxFor(m => m.Surname, new { @class = "form-control", @placeholder = "surname", @value = "" })
                </div>
                @Html.ValidationMessageFor(m => m.Surname, "", new { @class = "text-danger" })

                <span class="skd-spacing"></span>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-comment"></i></span>
                    @Html.TextAreaFor(m => m.About, 6, 6, new { @class = "form-control", @placeholder = "about", @value = "" })
                </div>

                <p>
                    <span class="skd-spacing-large"></span>
                    <strong>Account Age (Days): </strong>

                    @if (@Model.CreatedAgeDays < 1)
                    {
                        <text>Within the last 24 hours</text>
                    }
                    else if (@Model.CreatedAgeDays < 2)
                    {
                        @Model.CreatedAgeDays<text> day ago</text>
                    }
                    else
                    {
                        @Model.CreatedAgeDays<text> days ago</text>
                    }

                </p>
            </div>
        </div>
    </div>

    <span class="skd-spacing-large"></span>

    <div class="row">
        <div class="col-xs-6 col-centered">
            <button type="submit" class="btn btn-success btn-circle btn-lg" name="Cmd" value="Save">
                <span><i class="fa fa-check"></i></span>
            </button>
        </div>
        <div class="col-xs-6 col-centered">
            <a href="@Url.Action("Index", "Settings")">
                <span class="btn btn-danger btn-circle btn-lg"><i class="fa fa-times"></i></span>
            </a>
        </div>
    </div>

    <span class="skd-spacing-large"></span>
}
